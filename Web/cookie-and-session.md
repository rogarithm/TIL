##
###
- http 프로토콜 환경은 connectionless, stateless하다. 무슨 말이냐면, 클라이언트가 요청을 한 후 응답을 받으면 그 연결을 끊어 버리고(connectionless), 통신이 끝나면 상태를 유지하지 않는다(stateless)는 것이다.
- 이러한 http 프로토콜의 특징으로 인해 불편함이 생긴다. 페이지가 바뀌면 정보가 유지되지 않아서 페이지를 옮겨다닐 때마다 로그인을 새로 해야한다던지 하는 것이 그 예다.
- 쿠키와 세션은 이러한 불편함을 해결하도록 도와준다.

## 쿠키
### 쿠키의 정의
- 클라이언트 로컬에 저장되는 키와 값이 들어있는 작은 데이터 파일
- 서버가 어떤 데이터를 브라우저 측에 저장한 후 다시 그 데이터를 받아오는 기술, 또는 그 데이터 자체

### 쿠키의 구성 요소
- 이름 : 각각의 쿠키를 구별하는 데 사용되는 이름
- 값 : 쿠키의 이름과 관련된 값
- 유효시간 : 쿠키의 유지시간
- 도메인 : 쿠키를 전송할 도메인
- 경로 : 쿠키를 전송할 요청 경로

### 쿠키의 동작 방식
1. 클라이언트가 페이지를 요청
2. 서버에서 쿠키를 생성
3. set-cookie라는 응답 헤더에 브라우저가 수신해야 할 쿠키 정보를 명시해서 응답
4. 브라우저가 종료되어도 쿠키 만료 기간이 있다면 클라이언트에서 보관하고 있음
5. 같은 요청을 할 경우 HTTP 헤더에 쿠키를 함께 보냄
6. 서버에서 쿠키를 읽어 이전 상태 정보를 변경 할 필요가 있을 때 쿠키를 업데이트 하여 변경된 쿠키를 HTTP 헤더에 포함시켜 응답

## 세션
### 세션의 정의
- 쿠키를 기반으로 하지만, 서버 측에서 관리
- 서버는 클라이언트를 구분하기 위해 세션 아이디를 부여하며 브라우저가 서버에 접속해서 브라우저를 종료할 때까지 인증상태를 유지한다.
- 클라이언트가 요청을 보내면 서버가 클라이언트에게 유일한 아이디를 부여한다. 이것이 세션 아이디이다.

### 세션의 동작 방식
1. 클라이언트가 서버에 접속 시 세션 ID를 발급 받음
2. 클라이언트는 쿠키를 사용해서 세션 ID를 저장하고 가지고 있음
3. 클라이언트는 서버에 요청할 때, 이 쿠키의 세션 ID를 같이 서버에 전달
4. 서버는 세션 ID를 받아 별다른 작업없이 세션 ID로 세션에 있는 클라이언트 정보를 찾아와서 사용
5. 서버는 클라이언트 정보를 가지고 서버 요청을 처리하여 클라이언트에게 응답

## 참고 자료
- https://interconnection.tistory.com/74
- https://www.daleseo.com/http-cookies/
- https://www.youtube.com/watch?v=-4ZsGy1LOiE&ab_channel=%EC%9A%B0%EC%95%84%ED%95%9CTech
